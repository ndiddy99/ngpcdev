(C)Copyright TOSHIBA CORPORATION 1993-2009  All rights reserved
Tue May 26 21:09:37 2020
TLCS-900 Relocatable Assembler (32) V2.2k  [Page     1]  player.lst
Runtime option : c:\Program Files (x86)\TOSHIBA\T900\bin\asm900.exe -Nb2 -O1 -g -l player.asm

Location  Object                           Ins        Line Source Statement

                                 +0          1           1 ;*****************************************
                                 +0          2           2 ;	Scroll functions 
                                 +0          3           3 ;*****************************************
                                 +0          4           4 	$MAXIMUM
                                 +0          5           5 	module player
                                 +0          6           6 
                                 +0          7           7 ;  ---------------------------------
                                 +0          8           8 ;	EXTERNAL LOOK UP
                                 +0          9           9 ;  ---------------------------------
                                 +0         10          10 	; extern medium
                                 +0         11          11 	
                                 +0         12          12 ;  ---------------------------------
                                 +0         13          13 ;   EXTERNAL DEFINITION
                                 +0         14          14 ;  ---------------------------------
                                 +0         15          15 	public player_init
                                 +0         16          16 	public player_move
                                 +0         17          17 	public get_sensor
                                 +0         18          18 
                                 +0         19          19 ;  ---------------------------------
                                 +0         20          20 ;	INCLUDE
                                 +0         21          21 ;  ---------------------------------
                                 +0         22          22 	$include "k1head.inc"
                                 +1          1          23 ;=======================================================
                                 +1          2          24 
                                 +1          3          25 ;		SYSTEM RELATED EQU
                                 +1          4          26 
                                 +1          5          27 ;=======================================================
                                 +1          6          28 
  00008000                       +1          7          29 DISP_CTL0		EQU	0x08000			;interrupt control register
                                 +1          8          30 
                                 +1          9          31 ;D7 : 1 = Vint allowed / 0 = not allowed
                                 +1         10          32 
                                 +1         11          33 ;D6 : 1 = Hint allowed / 0 = not allowed
                                 +1         12          34 
                                 +1         13          35 
                                 +1         14          36 
  00008010                       +1         15          37 STS_RG_ADD		EQU	0x08010			;2D status register (READ)
                                 +1         16          38 
                                 +1         17          39 ;D7 : 1 = character over / 0 = no character over
                                 +1         18          40 
                                 +1         19          41 ;D6 : 1 = while V blanking / 0 = while in display mode
                                 +1         20          42 
                                 +1         21          43 
                                 +1         22          44 
  00008012                       +1         23          45 LCD_CTR_ADD		EQU	0x08012			;2D control register
                                 +1         24          46 
                                 +1         25          47 ;D7 : 1 = screen color inverse display / 0 = normal display
                                 +1         26          48 
                                 +1         27          49 ;D2Å`D0 : outside window frame color CODE
                                 +1         28          50 
                                 +1         29          51 
                                 +1         30          52 
  00008118                       +1         31          53 BG_COLOR		EQU 0x08118			;Background color register
                                 +1         32          54 
                                 +1         33          55 ;D7`D6: BGON. D7 = 1, D6 = 0: Use specified BG color. Defaults to D7/D6 both 0
                                 +1         34          56 
                                 +1         35          57 ;D2`D0: BG color code
                                 +1         36          58 
                                 +1         37          59 
                                 +1         38          60 
                                 +1         39          61 
  000087E0                       +1         40          62 RESET_ADD		EQU	0X087E0			;2D software reset (WRITE)
                                 +1         41          63 
                                 +1         42          64 ;2D cicuit initialization with "52" write
                                 +1         43          65 
                                 +1         44          66 
                                 +1         45          67 
  000087FE                       +1         46          68 VERSION_ADD		EQU	0x087FE			;2D cicuit version (READ)
                                 +1         47          69 
                                 +1         48          70 ;D7 : 1 = white LCD panel /0 = balck LCD panel 
                                 +1         49          71 
                                 +1         50          72 ;D5Å`D0 : 2D circuit version
                                 +1         51          73 
                                 +1         52          74 
                                 +1         53          75 
                                 +1         54          76 
                                 +1         55          77 
                                 +1         56          78 ;=======================================================
                                 +1         57          79 
                                 +1         58          80 ;		CHARACTER EQU
                                 +1         59          81 
                                 +1         60          82 ;=======================================================
                                 +1         61          83 
  0000A000                       +1         62          84 CHR_VRAM		EQU	0x0A000			;character data RAM address
                                 +1         63          85 
                                 +1         64          86 
                                 +1         65          87 
                                 +1         66          88 
                                 +1         67          89 
                                 +1         68          90 ;=======================================================
                                 +1         69          91 
                                 +1         70          92 ;		SCROLL EQU
                                 +1         71          93 
                                 +1         72          94 ;=======================================================
                                 +1         73          95 
  00009000                       +1         74          96 SCRL1_VRAM		EQU	0x09000
                                 +1         75          97 
  00009800                       +1         76          98 SCRL2_VRAM		EQU	0x09800
                                 +1         77          99 
                                 +1         78         100 
                                 +1         79         101 
  00008030                       +1         80         102 SCRL_PRIO_ADR		EQU	0X08030			;scroll priority level invert register 
                                 +1         81         103 
  00008032                       +1         82         104 SCRL_X1_ADR		EQU	0x08032			;scroll 1 offset H register
                                 +1         83         105 
  00008033                       +1         84         106 SCRL_Y1_ADR		EQU	0x08033			;scroll 1 offset V register
                                 +1         85         107 
  00008034                       +1         86         108 SCRL_X2_ADR		EQU	0x08034			;scroll 2 offset H register
                                 +1         87         109 
  00008035                       +1         88         110 SCRL_Y2_ADR		EQU	0x08035			;scroll 2 offset V register
                                 +1         89         111 
                                 +1         90         112 
                                 +1         91         113 
                                 +1         92         114 ;=======================================================
                                 +1         93         115 
                                 +1         94         116 ;		SPRITE EQU
                                 +1         95         117 
                                 +1         96         118 ;=======================================================
                                 +1         97         119 
  00008800                       +1         98         120 SPR_VRAM		EQU	0x08800
                                 +1         99         121 
  00008020                       +1        100         122 SPR_OFFSET_X_ADR	EQU	0x08020			;sprite offset H
                                 +1        101         123 
  00008021                       +1        102         124 SPR_OFFSET_Y_ADR	EQU	0x08021			;sprite offset V
                                 +1        103         125 
  00008C00                       +1        104         126 SPR_PALCODE EQU 0x8C00 ;what palette # to use for each sprite 
                                 +1        105         127 
                                 +1        106         128 
                                 +1        107         129 
                                 +1        108         130 
                                 +1        109         131 ;=======================================================
                                 +1        110         132 
                                 +1        111         133 ;		WINDOW SYSTEM EQU
                                 +1        112         134 
                                 +1        113         135 ;=======================================================
                                 +1        114         136 
  00008002                       +1        115         137 WIN_WBAX_ADR		EQU	0x08002			;window origin H
                                 +1        116         138 
  00008003                       +1        117         139 WIN_WBAY_ADR		EQU	0x08003			;window origin V
                                 +1        118         140 
  00008004                       +1        119         141 WIN_WSIX_ADR		EQU	0x08004			;window size H
                                 +1        120         142 
  00008005                       +1        121         143 WIN_WSIY_ADR		EQU	0x08005			;window size V
                                 +1        122         144 
                                 +1        123         145 
                                 +1        124         146 
  00008008                       +1        125         147 WD_LCDST_HPOS		EQU	0x08008			;raster H position register (READ)
                                 +1        126         148 
  00008009                       +1        127         149 WD_LCDST_VPOS		EQU	0x08009			;raster V position register (READ)
                                 +1        128         150 
                                 +1        129         151 
                                 +1        130         152 
                                 +1        131         153 ;=======================================================
                                 +1        132         154 
                                 +1        133         155 ;		PALETTE EQU
                                 +1        134         156 
                                 +1        135         157 ;=======================================================
                                 +1        136         158 
                                 +1        137         159 ;sprite palette 0
                                 +1        138         160 
  00008101                       +1        139         161 PL_SPR_00		EQU	0x08101	
                                 +1        140         162 
  00008102                       +1        141         163 PL_SPR_01		EQU	0x08102
                                 +1        142         164 
  00008103                       +1        143         165 PL_SPR_02		EQU	0x08103
                                 +1        144         166 
                                 +1        145         167 ;sprite palette 1
                                 +1        146         168 
  00008105                       +1        147         169 PL_SPR_10		EQU	0x08105
                                 +1        148         170 
  00008106                       +1        149         171 PL_SPR_11		EQU	0x08106
                                 +1        150         172 
  00008107                       +1        151         173 PL_SPR_12		EQU	0x08107
                                 +1        152         174 
                                 +1        153         175 
                                 +1        154         176 
                                 +1        155         177 ;scroll 0 palette 0
                                 +1        156         178 
  00008109                       +1        157         179 PL_SCR0_00		EQU	0x08109
                                 +1        158         180 
  0000810A                       +1        159         181 PL_SCR0_01		EQU	0x0810A
                                 +1        160         182 
  0000810B                       +1        161         183 PL_SCR0_02		EQU	0x0810B
                                 +1        162         184 
                                 +1        163         185 ;scroll 0 palette 1
                                 +1        164         186 
  0000810D                       +1        165         187 PL_SCR0_10		EQU	0x0810D
                                 +1        166         188 
  0000810E                       +1        167         189 PL_SCR0_11		EQU	0x0810E
                                 +1        168         190 
  0000810F                       +1        169         191 PL_SCR0_12		EQU	0x0810F
                                 +1        170         192 
                                 +1        171         193 ;scroll 1 palette 0
                                 +1        172         194 
  00008111                       +1        173         195 PAL_SCR1_00		EQU	0x08111
                                 +1        174         196 
  00008112                       +1        175         197 PAL_SCR1_01		EQU	0x08112
                                 +1        176         198 
  00008113                       +1        177         199 PAL_SCR1_02		EQU	0x08113
                                 +1        178         200 
                                 +1        179         201 ;scroll 1 palette 1
                                 +1        180         202 
  00008115                       +1        181         203 PAL_SCR1_10		EQU	0x08115
                                 +1        182         204 
  00008116                       +1        183         205 PAL_SCR1_11		EQU	0x08116
                                 +1        184         206 
  00008117                       +1        185         207 PAL_SCR1_12		EQU	0x08117
                                 +1        186         208 
                                 +1        187         209 
                                 +1        188         210 ;=======================================================
                                 +1        189         211 
                                 +1        190         212 ;		COLOR PALETTE RAM EQU
                                 +1        191         213 
                                 +1        192         214 ;=======================================================
                                 +1        193         215 
  00008200                       +1        194         216 SPRITE_CRAM		EQU 0x08200
                                 +1        195         217 
  00008280                       +1        196         218 SCROLL1_CRAM	EQU 0x08280
                                 +1        197         219 
  00008300                       +1        198         220 SCROLL2_CRAM	EQU 0x08300
                                 +1        199         221 
  000083E0                       +1        200         222 BGCOL_CRAM		EQU 0x083E0 ;for the background color
                                 +1        201         223 
  000083F0                       +1        202         224 WINDOW_CRAM		EQU 0x083F0
                                 +1        203         225 
                                 +1        204         226 
                                 +1        205         227 ;=======================================================
                                 +1        206         228 
                                 +1        207         229 
                                 +1        208         230 
                                 +0         23         231 	$include "system.inc"
                                 +1          1         232 ;-----------------------------------------------------------------
                                 +1          2         233 
                                 +1          3         234 ;	SYSTEM CALL
                                 +1          4         235 
                                 +1          5         236 ;-----------------------------------------------------------------
                                 +1          6         237 
  00000000                       +1          7         238 SYS_SUCCESS		equ	0x00			;run success
                                 +1          8         239 
  000000FF                       +1          9         240 SYS_FAILURE		equ	0xff			;run failure
                                 +1         10         241 
                                 +1         11         242 ;-----------------------------------------------------------------
                                 +1         12         243 
  00000000                       +1         13         244 VECT_SHUTDOWN		equ	0x00			;shutdown (power OFF)
                                 +1         14         245 
  00000001                       +1         15         246 VECT_CLOCKGEARSET	equ	0x01			;clock gear change
                                 +1         16         247 
  00000002                       +1         17         248 VECT_RTCGET		equ	0x02			;obtain time
                                 +1         18         249 
  00000004                       +1         19         250 VECT_INTLVSET		equ	0x04			;set interrupt level
                                 +1         20         251 
  00000005                       +1         21         252 VECT_SYSFONTSET	equ	0x05			;set system font
                                 +1         22         253 
  00000006                       +1         23         254 VECT_FLASHWRITE	equ	0x06			;flash memory data write
                                 +1         24         255 
  00000007                       +1         25         256 VECT_FLASHALLERS	equ	0x07			;flash memory erase all blocks
                                 +1         26         257 
  00000008                       +1         27         258 VECT_FLASHERS		equ	0x08			;flash memory erase specified blocks
                                 +1         28         259 
  00000009                       +1         29         260 VECT_ALARMSET		equ	0x09			;game alarm setting
                                 +1         30         261 
  0000000B                       +1         31         262 VECT_ALARMDOWNSET	equ	0x0b			;alarm setting during shutdown
                                 +1         32         263 
  0000000D                       +1         33         264 VECT_FLASHPROTECT	equ	0x0d			;protect using tool
                                 +1         34         265 
  0000000E                       +1         35         266 VECT_GEMODESET	equ	0x0e			;switching GE mode
                                 +1         36         267 
                                 +1         37         268 ;-----------------------------------------------------------------
                                 +1         38         269 
                                 +1         39         270 ;	SYSTEM BIT EQU
                                 +1         40         271 
                                 +1         41         272 ;-----------------------------------------------------------------
                                 +1         42         273 
  00000007                       +1         43         274 INT_CLR_BIT		equ	0x07			;interrupt request clear bit
                                 +1         44         275 
  00000080                       +1         45         276 _INT_CLR_BIT		equ	0y10000000		;
                                 +1         46         277 
                                 +1         47         278 ;-----------------------------------------------------------------
                                 +1         48         279 
                                 +1         49         280 ;	SYSTEM WORK
                                 +1         50         281 
                                 +1         51         282 ;-----------------------------------------------------------------
                                 +1         52         283 
  00006F80                       +1         53         284 Battery_Voltage	equ	0x6f80			;estimated voltage
                                 +1         54         285 
  00006F82                       +1         55         286 Sys_lever		equ	0x6f82			;lever value
                                 +1         56         287 
  00006F87                       +1         57         288 Language		equ	0x6f87			;language chosen
                                 +1         58         289 
  00006F85                       +1         59         290 User_Shutdown		equ	0x6f85			;shutdown re1uest bit
                                 +1         60         291 
  00006F84                       +1         61         292 User_Boot		equ	0x6f84			;startup bit flag
                                 +1         62         293 
  00006F86                       +1         63         294 User_Answer		equ	0x6f86			;user request bit
                                 +1         64         295 
  00006F91                       +1         65         296 OS_Version		equ	0x6f91			;system version reserve work
                                 +1         66         297 
                                 +1         67         298 ;-----------------------------------------------------------------
                                 +1         68         299 
                                 +1         69         300 ;	WATCH DOG
                                 +1         70         301 
                                 +1         71         302 ;-----------------------------------------------------------------
                                 +1         72         303 
  0000006F                       +1         73         304 WDCR			equ	0x06F		;watch dog control address
                                 +1         74         305 
  0000004E                       +1         75         306 WD_CLR			equ	0x04e		;watch dog clear code
                                 +1         76         307 
                                 +1         77         308 ;-----------------------------------------------------------------
                                 +1         78         309 
                                 +1         79         310 ;	SYSTEM WORK BIT
                                 +1         80         311 
                                 +1         81         312 ;-----------------------------------------------------------------
                                 +1         82         313 
  00000001                       +1         83         314 JOY_UP 		equ 0x1
  00000002                       +1         84         315 JOY_DOWN 	equ 0x2
  00000004                       +1         85         316 JOY_LEFT 	equ 0x4
  00000008                       +1         86         317 JOY_RIGHT 	equ 0x8
  00000010                       +1         87         318 JOY_A		equ 0x10
  00000020                       +1         88         319 JOY_B		equ 0x20
  00000040                       +1         89         320 JOY_OPTION	equ 0x40
                                 +1         90         321 
  00000000                       +1         91         322 BIT_UP		equ 0
  00000001                       +1         92         323 BIT_DOWN	equ 1
  00000002                       +1         93         324 BIT_LEFT	equ 2
  00000003                       +1         94         325 BIT_RIGHT	equ 3
  00000004                       +1         95         326 BIT_A		equ 4
  00000005                       +1         96         327 BIT_B		equ 5
  00000006                       +1         97         328 BIT_OPTION	equ 6
                                 +1         98         329 
                                 +1         99         330 ;======================================================= 
                                 +1        100         331 
                                 +1        101         332 ;	USER START UP BIT
                                 +1        102         333 
                                 +1        103         334 ;======================================================= 
                                 +1        104         335 
                                 +1        105         336 ;User_Boot
                                 +1        106         337 
                                 +1        107         338 ;	00000000
                                 +1        108         339 
                                 +1        109         340 ;	||+------ resume startup			0:not resume startup		1:resume startup
                                 +1        110         341 
                                 +1        111         342 ;	|+------- POWER startup			0:not POWER startup		1:POWER startup
                                 +1        112         343 
                                 +1        113         344 ;	+-------- alarm startup			0:not alarm statup		1:alarm statup
                                 +1        114         345 
                                 +1        115         346 ;	=================================================
                                 +1        116         347 
                                 +1        117         348 
                                 +1        118         349 
  00000007                       +1        119         350 ALARM_BOOT_REQ		equ	0x07
                                 +1        120         351 
  00000006                       +1        121         352 POWER_BOOT_REQ		equ	0x06
                                 +1        122         353 
  00000005                       +1        123         354 RESUME_BOOT_REQ		equ	0x05
                                 +1        124         355 
  00000080                       +1        125         356 _ALARM_BOOT_REQ		equ	0y10000000
                                 +1        126         357 
  00000040                       +1        127         358 _POWER_BOOT_REQ		equ	0y01000000
                                 +1        128         359 
  00000020                       +1        129         360 _RESUME_BOOT_REQ	equ	0y00100000
                                 +1        130         361 
                                 +1        131         362 
                                 +1        132         363 
                                 +1        133         364 ;======================================================= 
                                 +1        134         365 
                                 +1        135         366 ;	USER SHUTDOWN BIT
                                 +1        136         367 
                                 +1        137         368 ;======================================================= 
                                 +1        138         369 
                                 +1        139         370 ;User_Shutdown
                                 +1        140         371 
                                 +1        141         372 ;	00000000
                                 +1        142         373 
                                 +1        143         374 ;	||+--------- main power use shutdown request	0:no request	1:request
                                 +1        144         375 
                                 +1        145         376 ;	|+---------- no use shutdown request		0:no request	1:request
                                 +1        146         377 
                                 +1        147         378 ;	+----------- power off shutdown request		0:no request	1:request
                                 +1        148         379 
                                 +1        149         380 ;	=================================================
                                 +1        150         381 
                                 +1        151         382 
                                 +1        152         383 
  00000007                       +1        153         384 MP_SHUTDOWN_REQ	equ	0x07
                                 +1        154         385 
  00000006                       +1        155         386 TIME_SHUTDOWN_REQ	equ	0x06
                                 +1        156         387 
  00000005                       +1        157         388 BAT_SHUTDOWN_REQ	equ	0x05
                                 +1        158         389 
  00000080                       +1        159         390 _MP_SHUTDOWN_REQ	equ	0y10000000
                                 +1        160         391 
  00000040                       +1        161         392 _TIME_SHUTDOWN_REQ	equ	0y01000000
                                 +1        162         393 
  00000020                       +1        163         394 _BAT_SHUTDOWN_REQ	equ	0y00100000
                                 +1        164         395 
                                 +1        165         396 
                                 +1        166         397 
                                 +1        167         398 ;======================================================= 
                                 +1        168         399 
                                 +1        169         400 ;	USER ANSWER BIT
                                 +1        170         401 
                                 +1        171         402 ;======================================================= 
                                 +1        172         403 
                                 +1        173         404 ;User_Answer
                                 +1        174         405 
                                 +1        175         406 ;	00000000
                                 +1        176         407 
                                 +1        177         408 ;	|+----------- no use shutdown operation	0:non-existent	1:exists
                                 +1        178         409 
                                 +1        179         410 ;	+------------ resume operation		0:non-existent	1:exists
                                 +1        180         411 
                                 +1        181         412 ;	=================================================
                                 +1        182         413 
                                 +1        183         414 
                                 +1        184         415 
  00000007                       +1        185         416 RESUME_ANS		equ	0x07
                                 +1        186         417 
  00000006                       +1        187         418 TIMER_SHUTDOWN_ANS	equ	0x06
                                 +1        188         419 
  00000080                       +1        189         420 _RESUME_ANS		equ	0y10000000
                                 +1        190         421 
  00000040                       +1        191         422 _TIMER_SHUTDOWN_ANS	equ	0y01000000
                                 +1        192         423 
                                 +0         24         424 	$include "graphics.inc"
                                 +1          1         425 ;*****************************************
                                 +1          2         426 ;	Graphics data 
                                 +1          3         427 ;*****************************************
                                 +1          4         428 
                                 +1          5         429 	extern palette
                                 +1          6         430 	extern palette_end
                                 +1          7         431 	extern tiles
                                 +1          8         432 	extern tiles_end
                                 +1          9         433 	extern map
                                 +1         10         434 	extern map_end
                                 +1         11         435 	extern guy
                                 +1         12         436 	extern guy_end
                                 +1         13         437 	extern guy_pal
                                 +1         14         438 	extern guy_pal_end
                                 +0         25         439 	$include "glbwork.inc"
                                 +1          1         440 ;================================================================
                                 +1          2         441 ; global vars
                                 +1          3         442 ;================================================================
                                 +1          4         443 
                                 +1          5         444 	extern medium start_work
                                 +1          6         445 	extern medium stopper
                                 +1          7         446 	extern medium frame_cnt
                                 +1          8         447 	extern medium screen_x
                                 +1          9         448 	extern medium screen_y
                                 +1         10         449 	
                                 +1         11         450 	extern medium player_x
                                 +1         12         451 	extern medium player_y
                                 +1         13         452 	extern medium player_dx
                                 +1         14         453 	extern medium player_dy
                                 +1         15         454 ;================================================================
                                 +1         16         455 
                                 +0         26         456 	$include "scroll.inc"
                                 +1          1         457 ;-------------------------------------------------------
                                 +1          2         458 ; scroll_set: set scroll to specified coords
                                 +1          3         459 ;-------------------------------------------------------
                                 +1          4         460 ; wa: x pos
                                 +1          5         461 ; bc: y pos
                                 +1          6         462 ;-------------------------------------------------------
                                 +1          7         463 extern scroll_set
                                 +1          8         464 
                                 +1          9         465 ;-------------------------------------------------------
                                 +1         10         466 ; scroll_get_tile: returns tile # at given coordinates in wa
                                 +1         11         467 ;-------------------------------------------------------
                                 +1         12         468 ; wa: x pos
                                 +1         13         469 ; bc: y pos
                                 +1         14         470 ;-------------------------------------------------------
                                 +1         15         471 extern scroll_get_tile
                                 +1         16         472 
                                 +1         17         473 ;-------------------------------------------------------
                                 +1         18         474 ; scroll_copy: carry out scroll changes made in scroll_set (run during vblank)
                                 +1         19         475 ;-------------------------------------------------------
                                 +1         20         476 extern scroll_copy
                                 +0         27         477 	
  00000048                       +0         28         478 SPRITE_X equ 72
  00000048                       +0         29         479 SPRITE_Y equ 72
  00000010                       +0         30         480 PLAYER_WIDTH equ 16
  00000010                       +0         31         481 PLAYER_HEIGHT equ 16
  00000004                       +0         32         482 TSENSOR_HEIGHT equ 4
  0000000C                       +0         33         483 BSENSOR_HEIGHT equ 12
  00008000                       +0         34         484 PLAYER_ACCEL equ 0x8000
  00038000                       +0         35         485 MAX_SPEED equ 0x38000
                                 +0         36         486 
                                 +0         37         487 ;-------------------------------------------------------
                                 +0         38         488 PROG section code large
                                 +0         39         489 ;-------------------------------------------------------
                                 +0         40         490 	
                                 +0         41         491 ;-------------------------------------------------------
                                 +0         42         492 ; player_init: initialize player sprite
                                 +0         43         493 ;-------------------------------------------------------	
00000000                         +0         44         494 player_init:
00000000  D8A8                   +0         45         495 	ldw wa,0
00000002  D7E2034800             +0         46         496 	ldw qwa,SPRITE_X
00000007  F1000060             R +0         47         497 	ldl (player_x),xwa
                                 +0         48         498 	
0000000B  D8A8                   +0         49         499 	ldw wa,0
0000000D  D7E2034800             +0         50         500 	ldw qwa,SPRITE_Y
00000012  F1000060             R +0         51         501 	ldl (player_y),xwa
                                 +0         52         502 	
                                 +0         53         503 	;---copy guy sprite---
00000016  F200000035           R +0         54         504 	lda xiy,guy
0000001B  F200000034           R +0         55         505 	lda xix,CHR_VRAM+tiles_end-tiles
00000020  4100000000           R +0         56         506 	ldl xbc,guy_end-guy
00000025  8511                   +0         57         507 	ldir (xix+),(xiy+)
                                 +0         58         508 	;---copy guy palette---
00000027  F200000035           R +0         59         509 	lda xiy,guy_pal
0000002C  F1008234               +0         60         510 	lda xix,SPRITE_CRAM
00000030  4100000000           R +0         61         511 	ldl xbc,guy_pal_end-guy_pal ;should be a ldw but needs to be an ldl
00000035                         +0         62         512 guy_pal_copy:                   ;to appease the assembler
00000035  D5F520                 +0         63         513 	ldw wa,(xiy+)
00000038  F5F150                 +0         64         514 	ldw (xix+),wa
0000003B  D91CF7                 +0         65         515 	djnz bc,guy_pal_copy
                                 +0         66         516 
                                 +0         67         517 	;upper left
0000003E  21A0                   +0         68         518 	ldb a,160 ;tile number
00000040  F1008841               +0         69         519 	ldb (SPR_VRAM),a
00000044  2118                   +0         70         520 	ldb a,0y00011000 ;attributes
00000046  F1018841               +0         71         521 	ldb (SPR_VRAM+1),a
0000004A  2148                   +0         72         522 	ldb a,SPRITE_X ;x position
0000004C  F1028841               +0         73         523 	ldb (SPR_VRAM+2),a
00000050  2148                   +0         74         524 	ldb a,SPRITE_Y
00000052  F1038841               +0         75         525 	ldb (SPR_VRAM+3),a ;y position
00000056  2100                   +0         76         526 	ldb a,0 ;palette number
00000058  F1008C41               +0         77         527 	ldb (SPR_PALCODE),a	
                                 +0         78         528 	;upper right
0000005C  21A1                   +0         79         529 	ldb a,161
0000005E  F1048841               +0         80         530 	ldb (SPR_VRAM+4),a
00000062  211E                   +0         81         531 	ldb a,0y00011110 ;turn on h/v chain
00000064  F1058841               +0         82         532 	ldb (SPR_VRAM+5),a
00000068  2108                   +0         83         533 	ldb a,8 ;offset 8 px from prev sprite on x axis
0000006A  F1068841               +0         84         534 	ldb (SPR_VRAM+6),a
0000006E  2100                   +0         85         535 	ldb a,0
00000070  F1078841               +0         86         536 	ldb (SPR_VRAM+7),a
00000074  2100                   +0         87         537 	ldb a,0
00000076  F1018C41               +0         88         538 	ldb (SPR_PALCODE+1),a
                                 +0         89         539 	;lower left
0000007A  21A2                   +0         90         540 	ldb a,162
0000007C  F1088841               +0         91         541 	ldb (SPR_VRAM+8),a
00000080  211E                   +0         92         542 	ldb a,0y00011110 ;turn on h/v chain
00000082  F1098841               +0         93         543 	ldb (SPR_VRAM+9),a
00000086  21F8                   +0         94         544 	ldb a,248 ;offset -8 px from prev sprite on x axis
00000088  F10A8841               +0         95         545 	ldb (SPR_VRAM+10),a
0000008C  2108                   +0         96         546 	ldb a,8 ;offset 8 px on y axis
0000008E  F10B8841               +0         97         547 	ldb (SPR_VRAM+11),a
00000092  2100                   +0         98         548 	ldb a,0
00000094  F1028C41               +0         99         549 	ldb (SPR_PALCODE+2),a		
                                 +0        100         550 	;lower right
00000098  21A3                   +0        101         551 	ldb a,163
0000009A  F10C8841               +0        102         552 	ldb (SPR_VRAM+12),a
0000009E  211E                   +0        103         553 	ldb a,0y00011110 ;turn on h/v chain
000000A0  F10D8841               +0        104         554 	ldb (SPR_VRAM+13),a
000000A4  2108                   +0        105         555 	ldb a,8 ;offset 8 px from prev sprite on x axis
000000A6  F10E8841               +0        106         556 	ldb (SPR_VRAM+14),a
000000AA  2100                   +0        107         557 	ldb a,0 ;offset 0 px on y axis
000000AC  F10F8841               +0        108         558 	ldb (SPR_VRAM+15),a
000000B0  2100                   +0        109         559 	ldb a,0
000000B2  F1038C41               +0        110         560 	ldb (SPR_PALCODE+3),a
000000B6  0E                     +0        111         561 	ret
                                 +0        112         562 
                                 +0        113         563 ;-------------------------------------------------------
                                 +0        114         564 ; player_move: handle player movement
                                 +0        115         565 ;-------------------------------------------------------
000000B7                         +0        116         566 player_move:
                                 +0        117         567 	;---horizontal movement---
000000B7  C1826F21               +0        118         568 	ldb a,(Sys_lever)
000000BB  E1000021             R +0        119         569 	ldl xbc,(player_dx)
000000BF  C93302                 +0        120         570 	bit BIT_LEFT,a
000000C2  660E                   +0        121         571 	j z,not_left
000000C4  E9CF0080FCFF           +0        122         572 	cpl xbc,-MAX_SPEED
000000CA  6506                   +0        123         573 	j mi,not_left
000000CC  E9CA00800000           +0        124         574 	subl xbc,PLAYER_ACCEL
000000D2                         +0        125         575 not_left:
000000D2  C93303                 +0        126         576 	bit BIT_RIGHT,a
000000D5  660E                   +0        127         577 	j z,not_right
000000D7  E9CF00800300           +0        128         578 	cpl xbc,MAX_SPEED
000000DD  6D06                   +0        129         579 	j pl,not_right
000000DF  E9C800800000           +0        130         580 	addl xbc,PLAYER_ACCEL
000000E5                         +0        131         581 not_right:
                                 +0        132         582 	;---if we're not pressing left or right, decelerate---
000000E5  C1826F21               +0        133         583 	ldb a,(Sys_lever)
000000E9  C9CC0C                 +0        134         584 	andb a,JOY_LEFT | JOY_RIGHT
000000EC  6E2E                   +0        135         585 	j nz,no_decel
000000EE  E9CF00000000           +0        136         586 	cpl xbc,0
000000F4  6626                   +0        137         587 	j z,no_decel ;if player_dx is 0, don't have to decelerate
000000F6  6D02                   +0        138         588 	j pl,decel_right
000000F8  6512                   +0        139         589 	j mi,decel_left
000000FA                         +0        140         590 decel_right:
000000FA  E9CA00800000           +0        141         591 	subl xbc,PLAYER_ACCEL
                                 +0        142         592 	;if value goes under 0, make it 0
00000100  E9CF00000000           +0        143         593 	cpl xbc,0
00000106  6D14                   +0        144         594 	j pl,no_decel
00000108  E9A8                   +0        145         595 	ldl xbc,0
0000010A  6810                   +0        146         596 	j no_decel
0000010C                         +0        147         597 decel_left:
0000010C  E9C800800000           +0        148         598 	addl xbc,PLAYER_ACCEL
                                 +0        149         599 	;if value goes over 0, make it 0
00000112  E9CF00000000           +0        150         600 	cpl xbc,0
00000118  6502                   +0        151         601 	j mi,no_decel
0000011A  E9A8                   +0        152         602 	ldl xbc,0
0000011C                         +0        153         603 no_decel:	
0000011C  E1000020             R +0        154         604 	ldl xwa,(player_x)
00000120  F1000061             R +0        155         605 	ldl (player_dx),xbc
00000124  E980                   +0        156         606 	addl xwa,xbc
00000126  F1000060             R +0        157         607 	ldl (player_x),xwa
                                 +0        158         608 	;---horizontal collision detection---
                                 +0        159         609 	;top left
0000012A  D1000020             R +0        160         610 	ldw wa,(player_x+2)
0000012E  D1000021             R +0        161         611 	ldw bc,(player_y+2)
00000132  D9C80400               +0        162         612 	addw bc,TSENSOR_HEIGHT
00000136  1E1101                 +0        163         613 	cal get_height
00000139  C9CF10                 +0        164         614 	cpb a,16
0000013C  6646                   +0        165         615 	j z,hcollision_left
                                 +0        166         616 	;bottom left
0000013E  D1000020             R +0        167         617 	ldw wa,(player_x+2)
00000142  D1000021             R +0        168         618 	ldw bc,(player_y+2)
00000146  D9C80C00               +0        169         619 	addw bc,BSENSOR_HEIGHT
0000014A  1EFD00                 +0        170         620 	cal get_height
0000014D  C9CF10                 +0        171         621 	cpb a,16
00000150  6632                   +0        172         622 	j z,hcollision_left
                                 +0        173         623 	;top right
00000152  D1000020             R +0        174         624 	ldw wa,(player_x+2)
00000156  D8C80F00               +0        175         625 	addw wa,PLAYER_WIDTH-1
0000015A  D1000021             R +0        176         626 	ldw bc,(player_y+2)
0000015E  D9C80400               +0        177         627 	addw bc,TSENSOR_HEIGHT
00000162  1EE500                 +0        178         628 	cal get_height
00000165  C9CF10                 +0        179         629 	cpb a,16
00000168  6636                   +0        180         630 	j z,hcollision_right
                                 +0        181         631 	;bottom right
0000016A  D1000020             R +0        182         632 	ldw wa,(player_x+2)
0000016E  D8C80F00               +0        183         633 	addw wa,PLAYER_WIDTH-1
00000172  D1000021             R +0        184         634 	ldw bc,(player_y+2)
00000176  D9C80C00               +0        185         635 	addw bc,BSENSOR_HEIGHT
0000017A  1ECD00                 +0        186         636 	cal get_height
0000017D  C9CF10                 +0        187         637 	cpb a,16
00000180  661E                   +0        188         638 	j z,hcollision_right
00000182  6833                   +0        189         639 	j done_hcollision
00000184                         +0        190         640 hcollision_left:
                                 +0        191         641 	;reset dx and subpixel position
00000184  E8A8                   +0        192         642 	ldl xwa,0
00000186  F1000060             R +0        193         643 	ldl (player_dx),xwa
0000018A  E1000020             R +0        194         644 	ldl xwa,(player_x)
0000018E  E8CC0000F0FF           +0        195         645 	andl xwa,0xfff00000 ;reset to start of tile you're colliding with
00000194  E8C800001000           +0        196         646 	addl xwa,0x100000 ;eject into next tile
0000019A  F1000060             R +0        197         647 	ldl (player_x),xwa
0000019E  6817                   +0        198         648 	j done_hcollision
000001A0                         +0        199         649 hcollision_right:
                                 +0        200         650 	;reset dx and subpixel position
000001A0  E8A8                   +0        201         651 	ldl xwa,0
000001A2  F1000060             R +0        202         652 	ldl (player_dx),xwa
000001A6  E1000020             R +0        203         653 	ldl xwa,(player_x)
000001AA  E8CC0000F0FF           +0        204         654 	andl xwa,0xfff00000 ;reset to start of tile you're colliding with
000001B0  30FFFF                 +0        205         655 	ldw wa,0xffff ;subpixel portion- almost into next tile
000001B3  F1000060             R +0        206         656 	ldl (player_x),xwa
000001B7                         +0        207         657 done_hcollision:	
                                 +0        208         658 	;---vertical collision detection---
                                 +0        209         659 	;left foot
000001B7  D1000020             R +0        210         660 	ldw wa,(player_x+2)
                                 +0        211         661 	; addw wa,4
000001BB  D1000021             R +0        212         662 	ldw bc,(player_y+2)
000001BF  D9C81000               +0        213         663 	addw bc,PLAYER_HEIGHT
000001C3  1E4D00                 +0        214         664 	cal get_sensor
000001C6  14                     +0        215         665 	pushb a
                                 +0        216         666 	; ;right foot
000001C7  D1000020             R +0        217         667 	ldw wa,(player_x+2)
000001CB  D8C80F00               +0        218         668 	addw wa,PLAYER_WIDTH-1
000001CF  D1000021             R +0        219         669 	ldw bc,(player_y+2)
000001D3  D9C81000               +0        220         670 	addw bc,PLAYER_HEIGHT
000001D7  1E3900                 +0        221         671 	cal get_sensor ;right sensor height in a
000001DA  CA05                   +0        222         672 	popb b ;left sensor height in b
000001DC  C9F2                   +0        223         673 	cpb b,a
000001DE  6502                   +0        224         674 	j mi,left_higher
000001E0  CA89                   +0        225         675 	ldb a,b
000001E2                         +0        226         676 left_higher:
000001E2  D1000021             R +0        227         677 	ldw bc,(player_y+2)
000001E6  D9C81000               +0        228         678 	addw bc,PLAYER_HEIGHT ;foot pos in bc
000001EA  D9CCF0FF               +0        229         679 	andw bc,0xfff0 ;place feet at bottom of block
000001EE  D9C81000               +0        230         680 	addw bc,16
000001F2  D813                   +0        231         681 	extsw wa
000001F4  D8A1                   +0        232         682 	subw bc,wa
000001F6  D9CA1000               +0        233         683 	subw bc,PLAYER_HEIGHT ;foot pos to regular pos
000001FA  F1000051             R +0        234         684 	ldw (player_y+2),bc
                                 +0        235         685 	
000001FE  D1000020             R +0        236         686 	ldw wa,(player_x+2) ;move pixel portion of x coord into wa
00000202  D8CA4800               +0        237         687 	subw wa,SPRITE_X
00000206  D1000021             R +0        238         688 	ldw bc,(player_y+2)
0000020A  D9CA4800               +0        239         689 	subw bc,SPRITE_Y
0000020E  1D000000             R +0        240         690 	cal scroll_set
00000212  0E                     +0        241         691 	ret
                                 +0        242         692 
                                 +0        243         693 ;-------------------------------------------------------
                                 +0        244         694 ; get_sensor: returns # of pixels needed to change height by
                                 +0        245         695 ;-------------------------------------------------------
                                 +0        246         696 ; wa: pixel x
                                 +0        247         697 ; bc: pixel y
                                 +0        248         698 ;-------------------------------------------------------
00000213                         +0        249         699 get_sensor:
00000213  D7EA98                 +0        250         700 	ldw qde,wa ;stash original values
00000216  D7EE99                 +0        251         701 	ldw qhl,bc
00000219  1E2E00                 +0        252         702 	cal get_height
0000021C  C9C1                   +0        253         703 	andb a,a
0000021E  6607                   +0        254         704 	j z,check_below ;if height is 0, check below block
00000220  C9CF10                 +0        255         705 	cpb a,16
00000223  6614                   +0        256         706 	j z,check_above ;if height is 16, check above block
00000225  6822                   +0        257         707 	j get_sensor_end ;otherwise just return
00000227                         +0        258         708 check_below:
00000227  D7EA88                 +0        259         709 	ldw wa,qde
0000022A  D7EE89                 +0        260         710 	ldw bc,qhl
0000022D  D9C81000               +0        261         711 	addw bc,16 ;below tile
00000231  1E1600                 +0        262         712 	cal get_height
00000234  C9CA10                 +0        263         713 	subb a,16 ;have to subtract 16 to counter the 16 we added
00000237  6810                   +0        264         714 	j get_sensor_end
00000239                         +0        265         715 check_above:
00000239  D7EA88                 +0        266         716 	ldw wa,qde
0000023C  D7EE89                 +0        267         717 	ldw bc,qhl
0000023F  D9CA1000               +0        268         718 	subw bc,16 ;above tile
00000243  1E0400                 +0        269         719 	cal get_height
00000246  C9C810                 +0        270         720 	addb a,16 ;have to add 16 to counter the 16 we subtracted
                                 +0        271         721 
00000249                         +0        272         722 get_sensor_end:
00000249  0E                     +0        273         723 	ret
                                 +0        274         724 
                                 +0        275         725 ;-------------------------------------------------------
                                 +0        276         726 ; get_height: returns height of given pixel in a
                                 +0        277         727 ;-------------------------------------------------------
                                 +0        278         728 ; wa: pixel x
                                 +0        279         729 ; bc: pixel y
                                 +0        280         730 ;-------------------------------------------------------	
0000024A                         +0        281         731 get_height:
0000024A  C98C                   +0        282         732 	ldb d,a
0000024C  CCCC0F                 +0        283         733 	andb d,0xf ;d has x position within tile
0000024F  1D000000             R +0        284         734 	cal scroll_get_tile
00000253  D88B                   +0        285         735 	ldw hl,wa
00000255  DBCC0080               +0        286         736 	andw hl,0x8000 ;isolate horizontal mirror bit
00000259  6606                   +0        287         737 	j z,no_mirror
0000025B  CC8D                   +0        288         738 	ldb e,d ;if tile is mirrored, array index = 15 - array index
0000025D  240F                   +0        289         739 	ldb d,15
0000025F  CDA4                   +0        290         740 	subb d,e
00000261                         +0        291         741 no_mirror:
                                 +0        292         742 	;my bg tile image is 128 pixels wide so taking off that bit and shiftng
                                 +0        293         743 	;left 1 allows me to convert from 8x8 to 16x16
00000261  D8CCEF01               +0        294         744 	andw wa,0x1ef
00000265  D8EF01                 +0        295         745 	srlw 1,wa
00000268  F200000031           R +0        296         746 	lda xbc,block_types
0000026D  D881                   +0        297         747 	addw bc,wa
0000026F  E8A8                   +0        298         748 	ldl xwa,0
00000271  8121                   +0        299         749 	ldb a,(xbc)
00000273  D8EC04                 +0        300         750 	slaw 4,wa ;each array entry is 16 bits
00000276  CC81                   +0        301         751 	addb a,d
00000278  F200000031           R +0        302         752 	lda xbc,block_arrs
0000027D  E881                   +0        303         753 	addl xbc,xwa
0000027F  8121                   +0        304         754 	ldb a,(xbc)
00000281  0E                     +0        305         755 	ret
                                 +0        306         756 	
                                 +0        307         757 ;TODO refactor into separate source
00000282                         +0        308         758 block_arrs:
                                 +0        309         759 ;empty block
  00000000                       +0        310         760 TYPE_EMPTY equ 0
00000282                         +0        311         761 HeightEmpty:
00000282  00000000000000000000   +0        312         762 	db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
          000000000000                                     
                                 +0        313         763 	
                                 +0        314         764 ;full block
  00000001                       +0        315         765 TYPE_FULL equ 1
00000292                         +0        316         766 HeightFull:
00000292  10101010101010101010   +0        317         767 	db 16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16
          101010101010                                     
                                 +0        318         768 	
                                 +0        319         769 ;45 degree
  00000002                       +0        320         770 TYPE_45 equ 2
000002A2                         +0        321         771 Height45:
000002A2  00010203040506070809   +0        322         772 	db 0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15
          0A0B0C0D0E0F                                     
                                 +0        323         773 	
                                 +0        324         774 ;22.5 degree part 1
  00000003                       +0        325         775 TYPE_2251 equ 3
000002B2                         +0        326         776 Height2251:
000002B2  00000101020203030404   +0        327         777 	db 0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7
          050506060707                                     
                                 +0        328         778 	
                                 +0        329         779 ;22.5 degree part 2
  00000004                       +0        330         780 TYPE_2252 equ 4
000002C2                         +0        331         781 Height2252:
000002C2  080809090A0A0B0B0C0C   +0        332         782 	db 8,8,9,9,10,10,11,11,12,12,13,13,14,14,15,15
          0D0D0E0E0F0F                                     
                                 +0        333         783 	
                                 +0        334         784 ;what angle each 16x16 block is
000002D2                         +0        335         785 block_types:
000002D2  0001020304010101       +0        336         786 	db TYPE_EMPTY,TYPE_FULL,TYPE_45,TYPE_2251,TYPE_2252,TYPE_FULL,TYPE_FULL,TYPE_FULL
000002DA  0101010101010101       +0        337         787 	db TYPE_FULL,TYPE_FULL,TYPE_FULL,TYPE_FULL,TYPE_FULL,TYPE_FULL,TYPE_FULL,TYPE_FULL
000002E2  0101010101010101       +0        338         788 	db TYPE_FULL,TYPE_FULL,TYPE_FULL,TYPE_FULL,TYPE_FULL,TYPE_FULL,TYPE_FULL,TYPE_FULL
000002EA  0101010101010101       +0        339         789 	db TYPE_FULL,TYPE_FULL,TYPE_FULL,TYPE_FULL,TYPE_FULL,TYPE_FULL,TYPE_FULL,TYPE_FULL
000002F2  0101010101010101       +0        340         790 	db TYPE_FULL,TYPE_FULL,TYPE_FULL,TYPE_FULL,TYPE_FULL,TYPE_FULL,TYPE_FULL,TYPE_FULL
000002FA  0101010101010101       +0        341         791 	db TYPE_FULL,TYPE_FULL,TYPE_FULL,TYPE_FULL,TYPE_FULL,TYPE_FULL,TYPE_FULL,TYPE_FULL
00000302  0101010101010101       +0        342         792 	db TYPE_FULL,TYPE_FULL,TYPE_FULL,TYPE_FULL,TYPE_FULL,TYPE_FULL,TYPE_FULL,TYPE_FULL
0000030A  0101010101010101       +0        343         793 	db TYPE_FULL,TYPE_FULL,TYPE_FULL,TYPE_FULL,TYPE_FULL,TYPE_FULL,TYPE_FULL,TYPE_FULL
                                 +0        344         794 	
                                 +0        345         795 ;-------------------------------------------------------
                                 +0        346         796 	end
                                 +0        347         797 ;-------------------------------------------------------

Assembly complete, No error
TLCS-900 Relocatable Assembler (32) V2.2k  [Page     2]  player.lst

Symbol table listing
--------------------

Symbol           Category         Value     Attribute

ALARM_BOOT_REQ           NUM      00000007  A           
BAT_SHUTDOWN_REQ
                         NUM      00000005  A           
BGCOL_CRAM               NUM      000083E0  A           
BG_COLOR                 NUM      00008118  A           
BIT_A                    NUM      00000004  A           
BIT_B                    NUM      00000005  A           
BIT_DOWN                 NUM      00000001  A           
BIT_LEFT                 NUM      00000002  A           
BIT_OPTION               NUM      00000006  A           
BIT_RIGHT                NUM      00000003  A           
BIT_UP                   NUM      00000000  A           
BSENSOR_HEIGHT           NUM      0000000C  A           
Battery_Voltage          NUM      00006F80  A           
CHR_VRAM                 NUM      0000A000  A           
DISP_CTL0                NUM      00008000  A           
Height2251       C L     LAB      000002B2  R           PROG
Height2252       C L     LAB      000002C2  R           PROG
Height45         C L     LAB      000002A2  R           PROG
HeightEmpty      C L     LAB      00000282  R           PROG
HeightFull       C L     LAB      00000292  R           PROG
INT_CLR_BIT              NUM      00000007  A           
JOY_A                    NUM      00000010  A           
JOY_B                    NUM      00000020  A           
JOY_DOWN                 NUM      00000002  A           
JOY_LEFT                 NUM      00000004  A           
JOY_OPTION               NUM      00000040  A           
JOY_RIGHT                NUM      00000008  A           
JOY_UP                   NUM      00000001  A           
LCD_CTR_ADD              NUM      00008012  A           
Language                 NUM      00006F87  A           
MAX_SPEED                NUM      00038000  A           
MP_SHUTDOWN_REQ          NUM      00000007  A           
OS_Version               NUM      00006F91  A           
PAL_SCR1_00              NUM      00008111  A           
PAL_SCR1_01              NUM      00008112  A           
PAL_SCR1_02              NUM      00008113  A           
PAL_SCR1_10              NUM      00008115  A           
PAL_SCR1_11              NUM      00008116  A           
PAL_SCR1_12              NUM      00008117  A           
PLAYER_ACCEL             NUM      00008000  A           
PLAYER_HEIGHT            NUM      00000010  A           
PLAYER_WIDTH             NUM      00000010  A           
PL_SCR0_00               NUM      00008109  A           
PL_SCR0_01               NUM      0000810A  A           
PL_SCR0_02               NUM      0000810B  A           
PL_SCR0_10               NUM      0000810D  A           
PL_SCR0_11               NUM      0000810E  A           
PL_SCR0_12               NUM      0000810F  A           
PL_SPR_00                NUM      00008101  A           
PL_SPR_01                NUM      00008102  A           
PL_SPR_02                NUM      00008103  A           
PL_SPR_10                NUM      00008105  A           
PL_SPR_11                NUM      00008106  A           
PL_SPR_12                NUM      00008107  A           
POWER_BOOT_REQ           NUM      00000006  A           
PROG             C L     SEC      00000000  R 312       
RESET_ADD                NUM      000087E0  A           
RESUME_ANS               NUM      00000007  A           
RESUME_BOOT_REQ          NUM      00000005  A           
SCRL1_VRAM               NUM      00009000  A           
SCRL2_VRAM               NUM      00009800  A           
SCRL_PRIO_ADR            NUM      00008030  A           
SCRL_X1_ADR              NUM      00008032  A           
SCRL_X2_ADR              NUM      00008034  A           
SCRL_Y1_ADR              NUM      00008033  A           
SCRL_Y2_ADR              NUM      00008035  A           
SCROLL1_CRAM             NUM      00008280  A           
SCROLL2_CRAM             NUM      00008300  A           
SPRITE_CRAM              NUM      00008200  A           
SPRITE_X                 NUM      00000048  A           
SPRITE_Y                 NUM      00000048  A           
SPR_OFFSET_X_ADR
                         NUM      00008020  A           
SPR_OFFSET_Y_ADR
                         NUM      00008021  A           
SPR_PALCODE              NUM      00008C00  A           
SPR_VRAM                 NUM      00008800  A           
STS_RG_ADD               NUM      00008010  A           
SYS_FAILURE              NUM      000000FF  A           
SYS_SUCCESS              NUM      00000000  A           
Sys_lever                NUM      00006F82  A           
TIMER_SHUTDOWN_ANS
                         NUM      00000006  A           
TIME_SHUTDOWN_REQ
                         NUM      00000006  A           
TSENSOR_HEIGHT           NUM      00000004  A           
TYPE_2251                NUM      00000003  A           
TYPE_2252                NUM      00000004  A           
TYPE_45                  NUM      00000002  A           
TYPE_EMPTY               NUM      00000000  A           
TYPE_FULL                NUM      00000001  A           
User_Answer              NUM      00006F86  A           
User_Boot                NUM      00006F84  A           
User_Shutdown            NUM      00006F85  A           
VECT_ALARMDOWNSET
                         NUM      0000000B  A           
VECT_ALARMSET            NUM      00000009  A           
VECT_CLOCKGEARSET
                         NUM      00000001  A           
VECT_FLASHALLERS
                         NUM      00000007  A           
VECT_FLASHERS            NUM      00000008  A           
VECT_FLASHPROTECT
                         NUM      0000000D  A           
VECT_FLASHWRITE          NUM      00000006  A           
VECT_GEMODESET           NUM      0000000E  A           
VECT_INTLVSET            NUM      00000004  A           
VECT_RTCGET              NUM      00000002  A           
VECT_SHUTDOWN            NUM      00000000  A           
VECT_SYSFONTSET          NUM      00000005  A           
VERSION_ADD              NUM      000087FE  A           
WDCR                     NUM      0000006F  A           
WD_CLR                   NUM      0000004E  A           
WD_LCDST_HPOS            NUM      00008008  A           
WD_LCDST_VPOS            NUM      00008009  A           
WINDOW_CRAM              NUM      000083F0  A           
WIN_WBAX_ADR             NUM      00008002  A           
WIN_WBAY_ADR             NUM      00008003  A           
WIN_WSIX_ADR             NUM      00008004  A           
WIN_WSIY_ADR             NUM      00008005  A           
_ALARM_BOOT_REQ          NUM      00000080  A           
_BAT_SHUTDOWN_REQ
                         NUM      00000020  A           
_INT_CLR_BIT             NUM      00000080  A           
_MP_SHUTDOWN_REQ
                         NUM      00000080  A           
_POWER_BOOT_REQ          NUM      00000040  A           
_RESUME_ANS              NUM      00000080  A           
_RESUME_BOOT_REQ
                         NUM      00000020  A           
_TIMER_SHUTDOWN_ANS
                         NUM      00000040  A           
_TIME_SHUTDOWN_REQ
                         NUM      00000040  A           
block_arrs       C L     LAB      00000282  R           PROG
block_types      C L     LAB      000002D2  R           PROG
check_above      C L     LAB      00000239  R           PROG
check_below      C L     LAB      00000227  R           PROG
decel_left       C L     LAB      0000010C  R           PROG
decel_right      C L     LAB      000000FA  R           PROG
done_hcollision  C L     LAB      000001B7  R           PROG
get_height       C L     LAB      0000024A  R           PROG
get_sensor       C L     LAB      00000213  R PUB       PROG
get_sensor_end   C L     LAB      00000249  R           PROG
guy                               00000000  R EXT       
guy_end                           00000000  R EXT       
guy_pal                           00000000  R EXT       
guy_pal_copy     C L     LAB      00000035  R           PROG
guy_pal_end                       00000000  R EXT       
hcollision_left  C L     LAB      00000184  R           PROG
hcollision_right
                 C L     LAB      000001A0  R           PROG
left_higher      C L     LAB      000001E2  R           PROG
no_decel         C L     LAB      0000011C  R           PROG
no_mirror        C L     LAB      00000261  R           PROG
not_left         C L     LAB      000000D2  R           PROG
not_right        C L     LAB      000000E5  R           PROG
player                   MOD
player_dx                         00000000  R EXT       
player_init      C L     LAB      00000000  R PUB       PROG
player_move      C L     LAB      000000B7  R PUB       PROG
player_x                          00000000  R EXT       
player_y                          00000000  R EXT       
scroll_get_tile                   00000000  R EXT       
scroll_set                        00000000  R EXT       
tiles                             00000000  R EXT       
tiles_end                         00000000  R EXT       


TOTAL
  153 user defined symbol(s)
   11 unreferenced external symbol(s)
